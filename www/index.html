<html>
<head>
    <title>Todo</title>
    <link rel='stylesheet' href='/assets/css/site.fin.css' media='all' />
</head>
<body>
    <div class='container'>
       <h1>Add something</h1>


        <input type="text" id="todo_input" class='new-to-do-input' autocomplete="off" autofocus>
        <!--<input id="submit" onclick='' type='submit' value='Add'>-->

        <ol id="todoList" class='todo-list'>

        </ol>
    </div>
    <script src='/assets/js/production.min.js'></script>


    <script>


        /**
         * to add
         *  - delete a line item
         *  - keyboard enter
         *  - strike through something that is done
         *  - re order what is there
         *  - add code to browserify
         *  - edit a line item

        /**
         * It
         *  - gets input by id and extracts the value
         *  - creates a li and appends to list
         *  - clears the input
         */

        document.getElementById('todo_input').onkeydown = function(e){
            if(e.keyCode == 13){
                addItem();
            }
        };

        function addItem() {
            var list, todoInput, entry;

            list = document.getElementById('todoList');
            todoInput = document.getElementById('todo_input').value;
            entry = document.createElement('li');

            entry.appendChild(document.createTextNode(todoInput));
            list.appendChild(entry);

            clearInput();
            strikeOut();
        }

        function clearInput() {
            var todoInput = document.getElementById('todo_input');
            todoInput.value = ' ';
        }

        function killSwitch() {
//            var killSwitch = document.getElementsByClassName('killSwitch');
            $('.killSwitch').on('click', function() {
               $(this).parent().hide();
            });
        }

        function strikeOut() {
            var  div, divContent;

            div = document.createElement("div");
            divContent = document.createTextNode("X");

            div.appendChild(divContent);
            div.className = 'killSwitch';

            $('.todo-list').on('click', 'li', function() {
                $(this).addClass('done');
                $(this).append(div);
                killSwitch();
            });
        }

        function editItem() {

        }







    </script>

</body>
</html>
